实践周：xv6启动流程实践报告

学生信息

\- 姓名：吴艳

\- 班级：23计科1

\- 时间：2026年春季读书实践周



任务完成情况

任务1：Fork并成功启动xv6

\- Fork xv6仓库到个人GitHub

\- Clone到本地

\- 提交基础commit（4次有意义的提交）

任务2：启动流程注释

\- 修改 bootasm.S - 添加详细中文注释

\- 修改 bootmain.c - 添加详细中文注释

\- 修改 entry.S - 添加详细中文注释

任务3：启动过程可视化

\- 在 bootmain.c 中打印启动阶段信息

\- 在 entry.S 中标记内核入口（已添加注释）

\- 在 main.c 中打印 \[KERNEL] main() started



启动流程理解

完整启动链路：

BIOS → bootblock → bootasm.S → bootmain.c → entry.S → main()



关键步骤分析：

1\. bootasm.S：16位实模式初始化，启用A20，切换到保护模式

2\. bootmain.c：读取ELF头部，加载内核程序段到内存

3\. entry.S：内核入口点，设置初始栈空间

4\. main()：内核初始化主函数



&nbsp;遇到的问题

1\. 编译环境：Windows环境缺少make和gcc工具链

2\. 网络连接\*\*：GitHub访问不稳定，推送代码困难

3\. 文件结构：xv6版本文件位置与预期不同



提交记录

1\. 第一次提交：创建项目标记文件

2\. 第二次提交：在bootasm.S中添加文件头注释

3\. 第三次提交：添加bootmain.c和entry.S注释

4\. 第四次提交：在bootmain.c中添加调试信息



个人总结

通过本次实践，我深入理解了：

1\. 操作系统从BIOS到内核的完整启动过程

2\. x86架构下实模式与保护模式的切换机制

3\. ELF文件格式的加载原理

4\. 汇编语言与C语言在系统启动阶段的协作

虽然由于环境限制未能实际运行xv6，但通过代码分析和注释添加，掌握了操作系统启动的核心原理。

